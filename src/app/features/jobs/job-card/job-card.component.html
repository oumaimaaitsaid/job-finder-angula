<div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-xl transition-all duration-300 group relative">
  <div class="flex justify-between items-start mb-3">
    <h3 class="text-lg font-black text-gray-800 group-hover:text-blue-600 transition leading-tight">
      {{ job.title }}
    </h3>
    <span *ngIf="isNew(job.created_at)" class="bg-green-100 text-green-700 text-[10px] font-black px-2 py-1 rounded-full uppercase tracking-tighter">
      New
    </span>
  </div>

  <p class="text-blue-500 font-bold text-sm">{{ job.company_name }}</p>

  <div class="mt-4 flex items-center gap-4 text-xs text-gray-400 font-medium">
    <span class="flex items-center gap-1">ğŸ“ {{ job.location }}</span>
    <span class="flex items-center gap-1">ğŸ“… {{ job.created_at * 1000 | date:'dd/MM/yyyy' }}</span>
  </div>

  <div class="mt-6 flex gap-2">
    <a [href]="job.url" target="_blank" class="flex-1 text-center bg-gray-900 text-white py-2.5 rounded-xl text-xs font-bold hover:bg-black transition shadow-sm">
      VOIR L'OFFRE
    </a>

    <button
      (click)="onApply()"
      class="flex-1 bg-blue-600 text-white py-2.5 rounded-xl text-xs font-bold hover:bg-blue-700 transition shadow-md shadow-blue-100">
      POSTULER
    </button>

    <button
      (click)="addToFavorites()"
      [disabled]="isAlreadyFavorite$ | async"
      class="px-3 border rounded-xl transition-all duration-300 flex items-center justify-center"
      [ngClass]="(isAlreadyFavorite$ | async) ? 'bg-red-500 border-red-500 text-white' : 'bg-white border-gray-200 text-gray-400 hover:border-red-200 hover:text-red-500'">
      <span class="text-sm">{{ (isAlreadyFavorite$ | async) ? 'â¤ï¸' : 'ğŸ¤' }}</span>
    </button>
  </div>
</div>

<div *ngIf="showToast" class="fixed bottom-8 left-1/2 -translate-x-1/2 z-[9999] w-full max-w-sm px-4 animate-slide-up">
  <div [ngClass]="{
    'bg-gray-900': toastType === 'success',
    'bg-red-600': toastType === 'error',
    'bg-blue-600': toastType === 'info'
  }" class="text-white px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-3 border border-white/10 justify-center text-center">
    <span class="text-lg" *ngIf="toastType === 'success'">âœ…</span>
    <span class="text-lg" *ngIf="toastType === 'error'">âŒ</span>
    <span class="text-lg" *ngIf="toastType === 'info'">â„¹ï¸</span>
    <span class="font-bold text-sm tracking-wide">{{ toastMsg }}</span>
  </div>
</div>
